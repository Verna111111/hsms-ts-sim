<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HSMS Template Sender</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <main>
    <h1>HSMS Template Sender</h1>

    <section class="panel">
      <label>From:
        <select id="from">
          <option value="host">host (active)</option>
          <option value="device">device (passive)</option>
        </select>
      </label>

      <label>Template:
        <select id="templateSelect">
          <option value="">-- choose template --</option>
        </select>
      </label>

      <button id="loadTemplate">Load Template</button>
      <button id="sendTemplate">Send Template</button>

      <div style="margin-top:12px;">
        <strong>Template editor (JSON)</strong>
        <textarea id="templateEditor" style="width:100%;height:220px;" placeholder='{"stream":1,"func":1,"items":[...]}'></textarea>
      </div>

      <div style="margin-top:12px;">
        <strong>Values (JSON)</strong>
        <div style="font-size:13px;color:#666;margin-bottom:6px;">Fill keys for placeholders like <code>{{key}}</code> (e.g. <code>{"code":1}</code>)</div>
        <textarea id="templateValues" style="width:100%;height:90px;" placeholder='{"code":1, "flags":[1,0]}'></textarea>
      </div>
    </section>

    <section class="panel">
      <h3>Request / Response</h3>
      <div style="display:flex;gap:12px;">
        <div style="flex:1">
          <h4>Request</h4>
          <pre id="reqJson" class="box">{ }</pre>
        </div>
        <div style="flex:1">
          <h4>Response</h4>
          <pre id="resJson" class="box">{ }</pre>
        </div>
      </div>
    </section>

    <section class="panel">
      <h3>Notes</h3>
      <ul>
        <li>The UI now only uses <code>/templates</code> and <code>/send-template</code>.</li>
        <li>Provide values for template placeholders (<code>{{key}}</code>) via the Values box or replace them directly in the Template editor.</li>
        <li>Server console shows HSMS send/recv logs; use that to verify message exchange.</li>
      </ul>
    </section>
  </main>

  <script src="/app.js"></script>
</body>
</html>